Summary: Example of REST API requests using curl to validate the mtp_pa_server functions. Three WAN domains are considered.


// Equal cost and latency on every intra- and inter-WAN link
curl -X POST -H "Expect:" -H "Content-Type: application/json" http://IP_of_MTP_PA_SERVER:8081/compRoute/Connectivity1000 -d '{"paId":1000, "srcPEId":"00.00.00.00.00.1a", "dstPEId":"00.00.00.00.00.1b", "interWanLinks":[{"aWimId":"WIM_A", "zWimId":"WIM_C", "aPEId":"00.00.00.00.00.2a", "zPEId":"00.00.00.00.00.3c", "aLinkId":1001, "zLinkId":1002, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}}, {"aWimId":"WIM_C", "zWimId":"WIM_B", "aPEId":"00.00.00.00.00.1c", "zPEId":"00.00.00.00.00.2b", "aLinkId":1001, "zLinkId":1002, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}}], "absWanTopo": [{"wimId":"WIM_A", "nodes":[{"nodeId":"00.00.00.00.00.1a"}, {"nodeId":"00.00.00.00.00.2a"}, {"nodeId":"00.00.00.00.00.3a"}], "edges":[{"aNodeId":"00.00.00.00.00.1a", "zNodeId":"00.00.00.00.00.2a", "aLinkId":1, "zLinkId":2, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}, {"aNodeId":"00.00.00.00.00.1a", "zNodeId":"00.00.00.00.00.3a", "aLinkId":2, "zLinkId":1, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}, {"aNodeId":"00.00.00.00.00.3a", "zNodeId":"00.00.00.00.00.2a", "aLinkId":2, "zLinkId":1, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}]}, {"wimId":"WIM_C", "nodes":[{"nodeId":"00.00.00.00.00.3c"}, {"nodeId":"00.00.00.00.00.1c"}, {"nodeId":"00.00.00.00.00.2c"}], "edges":[{"aNodeId":"00.00.00.00.00.3c", "zNodeId":"00.00.00.00.00.1c", "aLinkId":1, "zLinkId":2, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}, {"aNodeId":"00.00.00.00.00.3c", "zNodeId":"00.00.00.00.00.2c", "aLinkId":2, "zLinkId":1, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}, {"aNodeId":"00.00.00.00.00.2c", "zNodeId":"00.00.00.00.00.1c", "aLinkId":2, "zLinkId":1, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}]}, {"wimId":"WIM_B", "nodes":[{"nodeId":"00.00.00.00.00.1b"}, {"nodeId":"00.00.00.00.00.2b"}, {"nodeId":"00.00.00.00.00.3b"}], "edges":[{"aNodeId":"00.00.00.00.00.2b", "zNodeId":"00.00.00.00.00.1b", "aLinkId":1, "zLinkId":2, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}, {"aNodeId":"00.00.00.00.00.2b", "zNodeId":"00.00.00.00.00.3b", "aLinkId":2, "zLinkId":1, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}, {"aNodeId":"00.00.00.00.00.3b", "zNodeId":"00.00.00.00.00.1b", "aLinkId":2, "zLinkId":1, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}]}], "qosCons": {"bandwidthCons":"bandwidthCons", "bandwidthConsValue":10, "delayCons":"delayCons", "delayConsValue":5}}'


// Different latency on specific links to validate K-CSPF
curl -X POST -H "Expect:" -H "Content-Type: application/json" http://IP_of_MTP_PA_SERVER:8081/compRoute/Connectivity1000 -d '{"paId":1000, "srcPEId":"00.00.00.00.00.1a", "dstPEId":"00.00.00.00.00.1b", "interWanLinks":[{"aWimId":"WIM_A", "zWimId":"WIM_C", "aPEId":"00.00.00.00.00.2a", "zPEId":"00.00.00.00.00.3c", "aLinkId":1001, "zLinkId":1002, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}}, {"aWimId":"WIM_C", "zWimId":"WIM_B", "aPEId":"00.00.00.00.00.1c", "zPEId":"00.00.00.00.00.2b", "aLinkId":1001, "zLinkId":1002, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}}], "absWanTopo": [{"wimId":"WIM_A", "nodes":[{"nodeId":"00.00.00.00.00.1a"}, {"nodeId":"00.00.00.00.00.2a"}, {"nodeId":"00.00.00.00.00.3a"}], "edges":[{"aNodeId":"00.00.00.00.00.1a", "zNodeId":"00.00.00.00.00.2a", "aLinkId":1, "zLinkId":2, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":5, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}, {"aNodeId":"00.00.00.00.00.1a", "zNodeId":"00.00.00.00.00.3a", "aLinkId":2, "zLinkId":1, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}, {"aNodeId":"00.00.00.00.00.3a", "zNodeId":"00.00.00.00.00.2a", "aLinkId":2, "zLinkId":1, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}]}, {"wimId":"WIM_C", "nodes":[{"nodeId":"00.00.00.00.00.3c"}, {"nodeId":"00.00.00.00.00.1c"}, {"nodeId":"00.00.00.00.00.2c"}], "edges":[{"aNodeId":"00.00.00.00.00.3c", "zNodeId":"00.00.00.00.00.1c", "aLinkId":1, "zLinkId":2, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":5, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}, {"aNodeId":"00.00.00.00.00.3c", "zNodeId":"00.00.00.00.00.2c", "aLinkId":2, "zLinkId":1, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}, {"aNodeId":"00.00.00.00.00.2c", "zNodeId":"00.00.00.00.00.1c", "aLinkId":2, "zLinkId":1, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}]}, {"wimId":"WIM_B", "nodes":[{"nodeId":"00.00.00.00.00.1b"}, {"nodeId":"00.00.00.00.00.2b"}, {"nodeId":"00.00.00.00.00.3b"}], "edges":[{"aNodeId":"00.00.00.00.00.2b", "zNodeId":"00.00.00.00.00.1b", "aLinkId":1, "zLinkId":2, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":5, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}, {"aNodeId":"00.00.00.00.00.2b", "zNodeId":"00.00.00.00.00.3b", "aLinkId":2, "zLinkId":1, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}, {"aNodeId":"00.00.00.00.00.3b", "zNodeId":"00.00.00.00.00.1b", "aLinkId":2, "zLinkId":1, "netwLinkQoS":{"linkCost":"linkCost", "linkCostValue":10, "linkDelay":"linkDelay", "linkDelayValue":1, "linkAvailBw":"linkAvailBw", "linkAvailBwValue":20}, "networkLayer":"psc"}]}], "qosCons": {"bandwidthCons":"bandwidthCons", "bandwidthConsValue":10, "delayCons":"delayCons", "delayConsValue":10}}'
